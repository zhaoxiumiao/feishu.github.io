/* empty css               */import{x as q,r as v,ad as F,o as K,_ as M,f as k,n as E,j as g,F as N,A as P,h as l,ae as R,l as S,g as A,w as h,i as d,t as Z,a5 as j,E as z,a as G,b as J,c as O,d as H,u as Q,e as W,k as L,p as X,m as Y}from"./index-56918f6f.js";import{p as V}from"./index-cf52f176.js";import{P as $}from"./Parser-c79df6cf.js";const tt=q({props:["inputTags","separator"],emits:["update:inputTags"],setup(e,a){const u=v([]),t=v(""),I=n=>{u.value.splice(n,1),a.emit("update:inputTags",u.value.join(e.separator||","))},T=()=>{t.value&&(u.value.push(t.value),t.value="",a.emit("update:inputTags",u.value.join(e.separator||",")))};return F(()=>{e.inputTags===""&&(u.value=[])}),K(()=>{e.inputTags&&(u.value=e.inputTags.split(e.separator||","))}),{inputTagList:u,inputValue:t,handleClose:I,handleInputConfim:T}}});const et={class:"input-multiple-box",id:"inputMultipleBox"};function at(e,a,u,t,I,T){const n=j,x=S;return k(),E("div",et,[g("div",null,[(k(!0),E(N,null,P(e.inputTagList,(o,p)=>(k(),A(n,{key:p,type:"info",closable:"",onClose:i=>e.handleClose(p)},{default:h(()=>[d(Z(o),1)]),_:2},1032,["onClose"]))),128))]),l(x,{modelValue:e.inputValue,"onUpdate:modelValue":a[0]||(a[0]=o=>e.inputValue=o),onKeyup:R(e.handleInputConfim,["enter"]),onBlur:e.handleInputConfim,style:{flex:"1","min-width":"100px"},placeholder:"按下enter键或者失去焦点添加元素"},null,8,["modelValue","onKeyup","onBlur"])])}const U=M(tt,[["render",at],["__scopeId","data-v-a6cdc7a6"]]);const b=async e=>await V.base.getTableByName(e),B=async()=>{const e=await V.base.getSelection();return await(await V.base.getTableById(e.tableId)).getName()},nt={components:{ElButton:z,ElForm:G,ElFormItem:J,ElSelect:O,ElOption:H,ElTag:j,InputMultiple:U},setup(){const e=v(""),a=v(""),u=()=>{function c(_){const m=[];let r=0,s={};const w=new $({onopentag(y,D){y==="a"&&D.class==="x1i10hfl xjbqb8w x1ejq31n xd10rxx x1sy0etr x17r0tee x972fbf xcfux6l x1qhh985 xm0m39n x9f619 x1ypdohk xt0psk2 xe8uvvx xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x16tdsg8 x1hl2dhg xggy1nq x1a2a7pz x1heor9g x1sur9pj xkrqix3"&&(s.id=D.href.split("=")[1],s.link=D.href,r=1)},ontext(y){r&&(s.name=y,m.push(s),s={},r=0)},onclosetag(y){}});return w.write(_),w.end(),m}const f=c(e.value);a.value=f,console.log(f,"ids")},t=async()=>{const c=await B();if(c==="粉丝页的数据"&&a.value){const f=await b(c),_=["fldqyffZcM","fldKyTNThM","fldGDgtbfT"],m=a.value.map(r=>({fields:{[_[0]]:[{type:"text",text:r.name}],[_[1]]:[{type:"text",text:`${r.id}`}],[_[2]]:[{type:"text",text:r.link}]}}));await f.addRecords(m)}},I=Q(),T=()=>{I.push({name:"lark"})},n=v(""),x=v(""),o=v(""),p=v("");return{html:e,data:a,sub:u,insert:t,tohome:T,adsIDs:n,fansIDs:x,insert2:async()=>{const c=await B();if(c==="广告账户粉丝页"&&n.value&&x.value){const f=[];n.value.split(",").forEach((s,w)=>{x.value.split(",").forEach((y,D)=>{f.push({fansId:y,adsId:s})})});const _=await b(c),m=["fldCEop6sf","fldwymn91m"],r=f.map(s=>({fields:{[m[0]]:[{type:"text",text:s.adsId}],[m[1]]:[{type:"text",text:s.fansId}]}}));await _.addRecords(r)}},clearData:()=>{n.value="",x.value=""},personIDs:o,fansIDs2:p,insert3:async()=>{const c=await B();if(c==="粉丝页个人号"&&o.value&&p.value){const f=[];o.value.split(",").forEach((s,w)=>{p.value.split(",").forEach((y,D)=>{f.push({fansId:y,personId:s})})});const _=await b(c),m=["fldauS6Cg4","fldBLbJcZK"],r=f.map(s=>({fields:{[m[0]]:[{type:"text",text:s.fansId}],[m[1]]:[{type:"text",text:s.personId}]}}));await _.addRecords(r)}},clearData2:()=>{o.value="",p.value=""}}}},C=e=>(X("data-v-160f65de"),e=e(),Y(),e),st={class:"TwoFA"},lt=C(()=>g("h6",null,"广告账户ID",-1)),ot=C(()=>g("h6",null,"粉丝页ID",-1)),it=C(()=>g("h6",null,"粉丝页ID",-1)),ut=C(()=>g("h6",null,"个人号ID",-1));function rt(e,a,u,t,I,T){const n=z,x=S,o=U,p=W("trim");return k(),E(N,null,[g("h4",null,[d(" 粉丝页数据表批量插入 "),l(n,{type:"primary",plain:"",onClick:t.tohome},{default:h(()=>[d("〈-返回主页")]),_:1},8,["onClick"])]),g("div",st,[L(l(x,{modelValue:t.html,"onUpdate:modelValue":a[0]||(a[0]=i=>t.html=i),rows:2,type:"textarea",placeholder:"Please input"},null,8,["modelValue"]),[[p]]),l(n,{type:"primary",plain:"",size:"large",onClick:t.sub},{default:h(()=>[d("提取信息")]),_:1},8,["onClick"]),L(l(x,{modelValue:t.data,"onUpdate:modelValue":a[1]||(a[1]=i=>t.data=i),rows:2,type:"textarea",placeholder:"Please input"},null,8,["modelValue"]),[[p]]),l(n,{onClick:t.insert,type:"primary",plain:"",size:"large"},{default:h(()=>[d("插入")]),_:1},8,["onClick"]),g("h4",null,[d(" 广告账户粉丝页的批量插入 "),l(n,{type:"primary",size:"default",onClick:t.clearData},{default:h(()=>[d("清空")]),_:1},8,["onClick"])]),lt,l(o,{inputTags:t.adsIDs,"onUpdate:inputTags":a[2]||(a[2]=i=>t.adsIDs=i)},null,8,["inputTags"]),ot,l(o,{inputTags:t.fansIDs,"onUpdate:inputTags":a[3]||(a[3]=i=>t.fansIDs=i)},null,8,["inputTags"]),l(n,{onClick:t.insert2,type:"primary",plain:"",size:"large"},{default:h(()=>[d("插入")]),_:1},8,["onClick"]),g("h4",null,[d(" 粉丝页个人号的批量插入 "),l(n,{type:"primary",size:"default",onClick:t.clearData2},{default:h(()=>[d("清空")]),_:1},8,["onClick"])]),it,l(o,{inputTags:t.fansIDs2,"onUpdate:inputTags":a[4]||(a[4]=i=>t.fansIDs2=i)},null,8,["inputTags"]),ut,l(o,{inputTags:t.personIDs,"onUpdate:inputTags":a[5]||(a[5]=i=>t.personIDs=i)},null,8,["inputTags"]),l(n,{onClick:t.insert3,type:"primary",plain:"",size:"large"},{default:h(()=>[d("插入")]),_:1},8,["onClick"])])],64)}const gt=M(nt,[["render",rt],["__scopeId","data-v-160f65de"]]);export{gt as default};
